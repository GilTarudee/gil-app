import{c as nr,e as qr,t as fe,a as H,n as xr,d as gt,b as Ot}from"../chunks/lwhgBFlJ.js";import{q as Ze,u as xt,aG as Mr,m as Ir,aH as zr,U as sr,J as Nt,b as ar,L as or,B as lt,F as Yr,y as Jt,az as ir,ay as ur,aI as cr,a0 as Jr,A as jt,C as Dt,aE as Wr,T as Gr,Y as Zr,X as Xr,p as Kr,t as Qr,Q as en,ah as tn,a6 as it,ai as rn,$ as Fr,aJ as dr,aK as nn,a2 as Ge,a1 as Or,s as $,e as vt,ag as yt,ad as Pt,g as re,c as P,r as j,a3 as He,aF as Wt,ae as lr,n as Ct}from"../chunks/DvEupkYM.js";import{s as $e}from"../chunks/Dt5ifIjd.js";import{i as Ne}from"../chunks/Bw4m2Pnn.js";import{e as sn,i as an}from"../chunks/DRLTSeCz.js";import{s as Tt,t as Le,a as on,r as ht,b as fr,c as pr}from"../chunks/sDsek0bY.js";import{l as un,j as mr}from"../chunks/3ssbLNa2.js";import{p as cn}from"../chunks/h2W_JOqu.js";import{p as be,s as ut,a as Nr,c as dn,b as ln,d as br}from"../chunks/DzXTgvcH.js";import{B as _t}from"../chunks/L8xoxXEW.js";import{i as fn}from"../chunks/CLPI7tIK.js";import{U as jr,N as pn,P as mn,a as bn,b as Dr,e as gr,H as gn,s as vn,c as yn,d as hn,i as Pr,f as At,g as _n,h as wn}from"../chunks/DcbQUi4K.js";import{r as vr,g as st,d as er,w as ye,a as Rt}from"../chunks/DYfpZ3UK.js";import{a as kt}from"../chunks/CcRRoa0W.js";const Lt=0,wt=1,Vt=2;function En(e,n,a,r,u){Ze&&xt();var o=e,i=Mr(),d=Jr,p=sr,l,h,b,C=(i?ar:or)(void 0),A=(i?ar:or)(void 0),O=!1;function B(T,W){O=!0,W&&(ir(y),ur(y),cr(d));try{T===Lt&&a&&(l?jt(l):l=lt(()=>a(o))),T===wt&&r&&(h?jt(h):h=lt(()=>r(o,C))),T===Vt&&u&&(b?jt(b):b=lt(()=>u(o,A))),T!==Lt&&l&&Dt(l,()=>l=null),T!==wt&&h&&Dt(h,()=>h=null),T!==Vt&&b&&Dt(b,()=>b=null)}finally{W&&(cr(null),ur(null),ir(null),Wr())}}var y=Ir(()=>{if(p!==(p=n())){if(zr(p)){var T=p;O=!1,T.then(W=>{T===p&&(Nt(C,W),B(wt,!0))},W=>{if(T===p&&(Nt(A,W),B(Vt,!0),!u))throw A.v}),Ze?a&&(l=lt(()=>a(o))):Yr(()=>{O||B(Lt,!0)})}else Nt(C,p),B(wt,!1);return()=>p=sr}});Ze&&(o=Jt)}function $t(e,n,a,r,u){var o=e,i="",d;Ir(()=>{if(i===(i=n()??"")){Ze&&xt();return}d!==void 0&&(en(d),d=void 0),i!==""&&(d=lt(()=>{if(Ze){Jt.data;for(var p=xt(),l=p;p!==null&&(p.nodeType!==8||p.data!=="");)l=p,p=Gr(p);if(p===null)throw Zr(),Xr;nr(Jt,l),o=Kr(p);return}var h=i+"",b=qr(h);nr(Qr(b),b.lastChild),o.before(b)}))})}function Sn(e,n,a,r,u){var d;Ze&&xt();var o=(d=n.$$slots)==null?void 0:d[a],i=!1;o===!0&&(o=n.children,i=!0),o===void 0?u!==null&&u(e):o(e,i?()=>r:r)}function Ht(e,n,a){tn(()=>{var r=it(()=>n(e,a==null?void 0:a())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}function yr(e,n,a=n){var r=Mr();un(e,"input",u=>{var o=u?e.defaultValue:e.value;if(o=Ut(e)?Bt(o):o,a(o),r&&o!==(o=n())){var i=e.selectionStart,d=e.selectionEnd;e.value=o??"",d!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(d,e.value.length))}}),(Ze&&e.defaultValue!==e.value||it(n)==null&&e.value)&&a(Ut(e)?Bt(e.value):e.value),rn(()=>{var u=n();Ut(e)&&u===Bt(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function Ut(e){var n=e.type;return n==="number"||n==="range"}function Bt(e){return e===""?null:+e}function Tn(e){return function(...n){var a=n[0];return a.preventDefault(),e==null?void 0:e.apply(this,n)}}class qt extends Error{constructor(n,a){super(n),this.name="DevalueError",this.path=a.join("")}}function hr(e){return Object(e)!==e}const An=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kn(e){const n=Object.getPrototypeOf(e);return n===Object.prototype||n===null||Object.getOwnPropertyNames(n).sort().join("\0")===An}function xn(e){return Object.prototype.toString.call(e).slice(8,-1)}function Mn(e){switch(e){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e<" "?`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function ct(e){let n="",a=0;const r=e.length;for(let u=0;u<r;u+=1){const o=e[u],i=Mn(o);i&&(n+=e.slice(a,u)+i,a=u+1)}return`"${a===0?e:n+e.slice(a)}"`}function In(e){return Object.getOwnPropertySymbols(e).filter(n=>Object.getOwnPropertyDescriptor(e,n).enumerable)}const Fn=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function _r(e){return Fn.test(e)?"."+e:"["+JSON.stringify(e)+"]"}function On(e,n){const a=[],r=new Map,u=[];if(n)for(const l of Object.getOwnPropertyNames(n))u.push({key:l,fn:n[l]});const o=[];let i=0;function d(l){if(typeof l=="function")throw new qt("Cannot stringify a function",o);if(r.has(l))return r.get(l);if(l===void 0)return jr;if(Number.isNaN(l))return pn;if(l===1/0)return mn;if(l===-1/0)return bn;if(l===0&&1/l<0)return Dr;const h=i++;r.set(l,h);for(const{key:C,fn:A}of u){const O=A(l);if(O)return a[h]=`["${C}",${d(O)}]`,h}let b="";if(hr(l))b=zt(l);else{const C=xn(l);switch(C){case"Number":case"String":case"Boolean":b=`["Object",${zt(l)}]`;break;case"BigInt":b=`["BigInt",${l}]`;break;case"Date":b=`["Date","${!isNaN(l.getDate())?l.toISOString():""}"]`;break;case"RegExp":const{source:O,flags:B}=l;b=B?`["RegExp",${ct(O)},"${B}"]`:`["RegExp",${ct(O)}]`;break;case"Array":b="[";for(let y=0;y<l.length;y+=1)y>0&&(b+=","),y in l?(o.push(`[${y}]`),b+=d(l[y]),o.pop()):b+=gn;b+="]";break;case"Set":b='["Set"';for(const y of l)b+=`,${d(y)}`;b+="]";break;case"Map":b='["Map"';for(const[y,T]of l)o.push(`.get(${hr(y)?zt(y):"..."})`),b+=`,${d(y)},${d(T)}`,o.pop();b+="]";break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const T=gr(l.buffer);b='["'+C+'","'+T+'"]';break}case"ArrayBuffer":{b=`["ArrayBuffer","${gr(l)}"]`;break}default:if(!kn(l))throw new qt("Cannot stringify arbitrary non-POJOs",o);if(In(l).length>0)throw new qt("Cannot stringify POJOs with symbolic keys",o);if(Object.getPrototypeOf(l)===null){b='["null"';for(const y in l)o.push(_r(y)),b+=`,${ct(y)},${d(l[y])}`,o.pop();b+="]"}else{b="{";let y=!1;for(const T in l)y&&(b+=","),y=!0,o.push(_r(T)),b+=`${ct(T)}:${d(l[T])}`,o.pop();b+="}"}}}return a[h]=b,h}const p=d(e);return p<0?`${p}`:`[${a.join(",")}]`}function zt(e){const n=typeof e;return n==="string"?ct(e):e instanceof String?ct(e.toString()):e===void 0?jr.toString():e===0&&1/e<0?Dr.toString():n==="bigint"?`["BigInt","${e}"]`:String(e)}const Cr=()=>{const e=vn;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},at={subscribe(e){return Cr().page.subscribe(e)}},wr={subscribe(e){return Cr().navigating.subscribe(e)}};/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */function tr(){return new DOMException("The request is not allowed","NotAllowedError")}async function Nn(e){if(!navigator.clipboard)throw tr();return navigator.clipboard.writeText(e)}async function jn(e){const n=document.createElement("span");n.textContent=e,n.style.whiteSpace="pre",n.style.webkitUserSelect="auto",n.style.userSelect="all",document.body.appendChild(n);const a=window.getSelection(),r=window.document.createRange();a==null||a.removeAllRanges(),r.selectNode(n),a==null||a.addRange(r);let u=!1;try{u=window.document.execCommand("copy")}finally{a==null||a.removeAllRanges(),window.document.body.removeChild(n)}if(!u)throw tr()}async function Dn(e){try{await Nn(e)}catch(n){try{await jn(e)}catch(a){throw a||n||tr()}}}var Pn=fe(`<style>.super-debug--absolute {
			position: absolute;
		}

		.super-debug--top-0 {
			top: 0;
		}

		.super-debug--inset-x-0 {
			left: 0px;
			right: 0px;
		}

		.super-debug--hidden {
			height: 0;
			overflow: hidden;
		}

		.super-debug--hidden:not(.super-debug--with-label) {
			height: 1.5em;
		}

		.super-debug--rotated {
			transform: rotate(180deg);
		}

		.super-debug {
			--_sd-bg-color: var(--sd-bg-color, var(--sd-vscode-bg-color, rgb(30, 41, 59)));
			position: relative;
			background-color: var(--_sd-bg-color);
			border-radius: 0.5rem;
			overflow: hidden;
		}

		.super-debug--pre {
			overflow-x: auto;
		}

		.super-debug--collapse {
			display: block;
			width: 100%;
			color: rgba(255, 255, 255, 0.25);
			background-color: rgba(255, 255, 255, 0.15);
			padding: 5px 0;
			display: flex;
			justify-content: center;
			border-color: transparent;
			margin: 0;
			padding: 3px 0;
		}

		.super-debug--collapse:focus {
			color: #fafafa;
			background-color: rgba(255, 255, 255, 0.25);
		}

		.super-debug--collapse:is(:hover) {
			color: rgba(255, 255, 255, 0.35);
			background-color: rgba(255, 255, 255, 0.25);
		}

		.super-debug--status {
			display: flex;
			padding: 1em;
			padding-bottom: 0;
			justify-content: space-between;
			font-family:
				Inconsolata, Monaco, Consolas, 'Lucida Console', 'Courier New', Courier, monospace;
		}

		.super-debug--right-status {
			display: flex;
			gap: 0.55em;
		}

		.super-debug--copy {
			margin: 0;
			padding: 0;
			padding-top: 2px;
			background-color: transparent;
			border: 0;
			color: #666;
			cursor: pointer;
		}

		.super-debug--copy:hover {
			background-color: transparent;
			color: #666;
		}

		.super-debug--copy:focus {
			background-color: transparent;
			color: #666;
		}

		.super-debug--label {
			color: var(--sd-label-color, var(--sd-vscode-label-color, white));
		}

		.super-debug--promise-loading {
			color: var(--sd-promise-loading-color, var(--sd-vscode-promise-loading-color, #999));
		}

		.super-debug--promise-rejected {
			color: var(--sd-promise-rejected-color, var(--sd-vscode-promise-rejected-color, #ff475d));
		}

		.super-debug pre {
			color: var(--sd-code-default, var(--sd-vscode-code-default, #999));
			background-color: var(--_sd-bg-color);
			font-size: 1em;
			margin-bottom: 0;
			padding: 1em 0 1em 1em;
		}

		.super-debug--info {
			color: var(--sd-info, var(--sd-vscode-info, rgb(85, 85, 255)));
		}

		.super-debug--success {
			color: var(--sd-success, var(--sd-vscode-success, #2cd212));
		}

		.super-debug--redirect {
			color: var(--sd-redirect, var(--sd-vscode-redirect, #03cae5));
		}

		.super-debug--error {
			color: var(--sd-error, var(--sd-vscode-error, #ff475d));
		}

		.super-debug--code .key {
			color: var(--sd-code-key, var(--sd-vscode-code-key, #eab308));
		}

		.super-debug--code .string {
			color: var(--sd-code-string, var(--sd-vscode-code-string, #6ec687));
		}

		.super-debug--code .date {
			color: var(--sd-code-date, var(--sd-vscode-code-date, #f06962));
		}

		.super-debug--code .boolean {
			color: var(--sd-code-boolean, var(--sd-vscode-code-boolean, #79b8ff));
		}

		.super-debug--code .number {
			color: var(--sd-code-number, var(--sd-vscode-code-number, #af77e9));
		}

		.super-debug--code .bigint {
			color: var(--sd-code-bigint, var(--sd-vscode-code-bigint, #af77e9));
		}

		.super-debug--code .null {
			color: var(--sd-code-null, var(--sd-vscode-code-null, #238afe));
		}

		.super-debug--code .nan {
			color: var(--sd-code-nan, var(--sd-vscode-code-nan, #af77e9));
		}

		.super-debug--code .undefined {
			color: var(--sd-code-undefined, var(--sd-vscode-code-undefined, #238afe));
		}

		.super-debug--code .function {
			color: var(--sd-code-function, var(--sd-vscode-code-function, #f06962));
		}

		.super-debug--code .symbol {
			color: var(--sd-code-symbol, var(--sd-vscode-code-symbol, #4de0c5));
		}

		.super-debug--code .error {
			color: var(--sd-code-error, var(--sd-vscode-code-error, #ff475d));
		}

		.super-debug pre::-webkit-scrollbar {
			width: var(--sd-sb-width, var(--sd-vscode-sb-width, 1rem));
			height: var(--sd-sb-height, var(--sd-vscode-sb-height, 1rem));
		}

		.super-debug pre::-webkit-scrollbar-track {
			border-radius: 12px;
			background-color: var(
				--sd-sb-track-color,
				var(--sd-vscode-sb-track-color, hsl(0, 0%, 40%, 0.2))
			);
		}
		.super-debug:is(:focus-within, :hover) pre::-webkit-scrollbar-track {
			border-radius: 12px;
			background-color: var(
				--sd-sb-track-color-focus,
				var(--sd-vscode-sb-track-color-focus, hsl(0, 0%, 50%, 0.2))
			);
		}

		.super-debug pre::-webkit-scrollbar-thumb {
			border-radius: 12px;
			background-color: var(
				--sd-sb-thumb-color,
				var(--sd-vscode-sb-thumb-color, hsl(217, 50%, 50%, 0.5))
			);
		}
		.super-debug:is(:focus-within, :hover) pre::-webkit-scrollbar-thumb {
			border-radius: 12px;
			background-color: var(
				--sd-sb-thumb-color-focus,
				var(--sd-vscode-sb-thumb-color-focus, hsl(217, 50%, 50%))
			);
		}</style>`),Cn=xr('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M7 9.667A2.667 2.667 0 0 1 9.667 7h8.666A2.667 2.667 0 0 1 21 9.667v8.666A2.667 2.667 0 0 1 18.333 21H9.667A2.667 2.667 0 0 1 7 18.333z"></path><path d="M4.012 16.737A2.005 2.005 0 0 1 3 15V5c0-1.1.9-2 2-2h10c.75 0 1.158.385 1.5 1"></path></g></svg>'),Rn=xr('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 12v6m-3-3h6"></path><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></g></svg>'),Ln=fe("<div> </div>"),Vn=fe('<span class="super-debug--promise-rejected">Rejected:</span> <!>',1),$n=fe('<div class="super-debug--promise-loading">Loading data...</div>'),Hn=fe('<button type="button" class="super-debug--collapse" aria-label="Collapse"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M4.08 11.92L12 4l7.92 7.92l-1.42 1.41l-5.5-5.5V22h-2V7.83l-5.5 5.5l-1.42-1.41M12 4h10V2H2v2h10Z"></path></svg></button>'),Un=fe('<div class="super-debug" dir="ltr"><div><div class="super-debug--label"> </div> <div class="super-debug--right-status"><button type="button" class="super-debug--copy"><!></button> <!></div></div> <pre class="super-debug--pre"><code class="super-debug--code"><!></code></pre> <!></div>'),Bn=fe("<!> <!>",1);function qn(e,n){Fr(n,!1);const[a,r]=Nr(),u=()=>ut(at,"$page",a),o=()=>ut(re(d),"$debugData",a),i=yt(),d=yt();let p=yt(!1),l=be(n,"data",8),h=be(n,"display",8,!0),b=be(n,"status",8,!0),C=be(n,"label",8,""),A=be(n,"stringTruncate",8,120),O=be(n,"ref",12,void 0),B=be(n,"promise",8,!1),y=be(n,"raw",8,!1),T=be(n,"functions",8,!1),W=be(n,"theme",8,"default"),pe=be(n,"collapsible",8,!1),F=be(n,"collapsed",12,!1);pe()&&ge();function ge(w=void 0){let k;const m=u().route.id??"";try{sessionStorage.SuperDebug&&(k=JSON.parse(sessionStorage.SuperDebug)),k={collapsed:k&&k.collapsed?k.collapsed:{}},k.collapsed[m]=w===void 0?k.collapsed[m]??F():w}catch{k={collapsed:{[m]:F()}}}w!==void 0&&(sessionStorage.SuperDebug=JSON.stringify(k)),F(k.collapsed[m])}let ce=yt();async function Ue(w){if(!w.target)return;const k=w.target.closest(".super-debug");if(!k)return;const m=k.querySelector(".super-debug--code");m&&(clearTimeout(re(ce)),await Dn(m.innerText),vt(ce,setTimeout(()=>vt(ce,void 0),900)))}function Xe(w){return{name:w.name,size:w.size,type:w.type,lastModified:new Date(w.lastModified)}}function ae(w){switch(typeof w){case"function":return`<span class="function">[function ${w.name??"unnamed"}]</span>`;case"symbol":return`<span class="symbol">${w.toString()}</span>`}return JSON.stringify(w,function(m,v){if(v===void 0)return"#}#undefined";if(typeof this=="object"&&this[m]instanceof Date)return"#}D#"+(isNaN(this[m])?"Invalid Date":v);if(typeof v=="number"){if(v==Number.POSITIVE_INFINITY)return"#}#Inf";if(v==Number.NEGATIVE_INFINITY)return"#}#-Inf";if(isNaN(v))return"#}#NaN"}if(typeof v=="bigint")return"#}BI#"+v;if(typeof v=="function"&&T())return`#}F#[function ${v.name}]`;if(v instanceof Error)return`#}E#${v.name}: ${v.message||v.cause||"(No error message)"}`;if(v instanceof Set)return Array.from(v);if(v instanceof Map)return Array.from(v.entries());if(typeof this=="object"&&typeof this[m]=="object"&&this[m]&&"toExponential"in this[m])return"#}DE#"+this[m].toString();if(typeof this=="object"&&this[m]instanceof File)return Xe(this[m]);if(typeof this=="object"&&this[m]instanceof FileList){const x=this[m],N=[];for(let D=0;D<x.length;D++){const _e=x.item(D);_e&&N.push(Xe(_e))}return N}return v},2).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,function(m){let v="number";return/^"/.test(m)?/:$/.test(m)?(v="key",m=m.slice(1,-2)+":"):(v="string",m=A()>0&&m.length>A()?m.slice(0,A()/2)+`[..${m.length-A()}/${m.length}..]`+m.slice(-A()/2):m,m=='"#}#undefined"'?(v="undefined",m="undefined"):m.startsWith('"#}D#')?(v="date",m=m.slice(5,-1)):m=='"#}#NaN"'?(v="nan",m="NaN"):m=='"#}#Inf"'?(v="nan",m="Infinity"):m=='"#}#-Inf"'?(v="nan",m="-Infinity"):m.startsWith('"#}BI#')?(v="bigint",m=m.slice(6,-1)+"n"):m.startsWith('"#}F#')?(v="function",m=m.slice(5,-1)):m.startsWith('"#}E#')?(v="error",m=m.slice(5,-1)):m.startsWith('"#}DE#')&&(v="number",m=m.slice(6,-1))):/true|false/.test(m)?v="boolean":/null/.test(m)&&(v="null"),'<span class="'+v+'">'+m+"</span>"})}function he(w,k,m){return k?!1:m||typeof w=="object"&&w!==null&&"then"in w&&typeof w.then=="function"}function ke(w,k){return k?!1:typeof w=="object"&&w!==null&&"subscribe"in w&&typeof w.subscribe=="function"}dr(()=>Pt(W()),()=>{vt(i,W()==="vscode"?`
      --sd-vscode-bg-color: #1f1f1f;
      --sd-vscode-label-color: #cccccc;
      --sd-vscode-code-default: #8c8a89;
      --sd-vscode-code-key: #9cdcfe;
      --sd-vscode-code-string: #ce9171;
      --sd-vscode-code-number: #b5c180;
      --sd-vscode-code-boolean: #4a9cd6;
      --sd-vscode-code-null: #4a9cd6;
      --sd-vscode-code-undefined: #4a9cd6;
      --sd-vscode-code-nan: #4a9cd6;
      --sd-vscode-code-symbol: #4de0c5;
      --sd-vscode-sb-thumb-color: #35373a;
      --sd-vscode-sb-thumb-color-focus: #4b4d50;
    `:void 0)}),dr(()=>(Pt(l()),Pt(y()),vr),()=>{dn(vt(d,ke(l(),y())?l():vr(l())),"$debugData",a)}),nn(),fn();var Be=Bn(),De=Ge(Be);{var K=w=>{var k=Pn();H(w,k)};Ne(De,w=>{re(p)||w(K)})}var V=$(De,2);{var Ke=w=>{var k=Un(),m=P(k),v=P(m),x=P(v,!0);j(v);var N=$(v,2),D=P(N),_e=P(D);{var Pe=L=>{var R=Cn();H(L,R)},qe=L=>{var R=Rn();H(L,R)};Ne(_e,L=>{re(ce)?L(qe,!1):L(Pe)})}j(D);var xe=$(D,2);{var Ce=L=>{var R=Ln(),Ee=P(R,!0);j(R),He(()=>{Le(R,"super-debug--info",u().status<200),Le(R,"super-debug--success",u().status>=200&&u().status<300),Le(R,"super-debug--redirect",u().status>=300&&u().status<400),Le(R,"super-debug--error",u().status>=400),$e(Ee,u().status)}),H(L,R)};Ne(xe,L=>{b()&&L(Ce)})}j(N),j(m);var ve=$(m,2),Qe=P(ve),we=P(Qe);Sn(we,n,"default",{},L=>{var R=gt(),Ee=Ge(R);{var q=Se=>{var Q=gt(),Fe=Ge(Q);En(Fe,o,de=>{var me=$n();H(de,me)},(de,me)=>{var z=gt(),tt=Ge(z);$t(tt,()=>ae(ke(re(me),y())?st(re(me)):re(me))),H(de,z)},(de,me)=>{var z=Vn(),tt=$(Ge(z),2);$t(tt,()=>ae(re(me))),H(de,z)}),H(Se,Q)},Ie=Se=>{var Q=gt(),Fe=Ge(Q);$t(Fe,()=>ae(o())),H(Se,Q)};Ne(Ee,Se=>{he(o(),y(),B())?Se(q):Se(Ie,!1)})}H(L,R)}),j(Qe),j(ve),ln(ve,L=>O(L),()=>O());var et=$(ve,2);{var Me=L=>{var R=Hn(),Ee=P(R);j(R),He(()=>Le(Ee,"super-debug--rotated",F())),mr("click",R,Tn(()=>ge(!F()))),H(L,R)};Ne(et,L=>{pe()&&L(Me)})}j(k),He(()=>{Tt(k,"style",re(i)),Le(k,"super-debug--collapsible",pe()),on(m,`super-debug--status ${(C()===""?"super-debug--absolute super-debug--inset-x-0 super-debug--top-0":"")??""}`),$e(x,C()),Le(ve,"super-debug--with-label",C()),Le(ve,"super-debug--hidden",F()),k.dir=k.dir}),mr("click",D,Ue),H(w,k)};Ne(V,w=>{h()&&w(Ke)})}H(e,Be),Or(),r()}function Gt(e,n,a){return e[n]=a,"skip"}function zn(e,n){return n.value!==void 0&&typeof n.value!="object"&&n.path.length<e.length}function Ve(e,n,a={}){a.modifier||(a.modifier=u=>zn(n,u)?void 0:u.value);const r=Ae(e,n,a.modifier);if(r)return a.value===void 0||a.value(r.value)?r:void 0}function Ae(e,n,a){if(!n.length)return;const r=[n[0]];let u=e;for(;u&&r.length<n.length;){const i=r[r.length-1],d=a?a({parent:u,key:String(i),value:u[i],path:r.map(p=>String(p)),isLeaf:!1,set:p=>Gt(u,i,p)}):u[i];if(d===void 0)return;u=d,r.push(n[r.length])}if(!u)return;const o=n[n.length-1];return{parent:u,key:String(o),value:u[o],path:n.map(i=>String(i)),isLeaf:!0,set:i=>Gt(u,o,i)}}function je(e,n,a=[]){for(const r in e){const u=e[r],o=u===null||typeof u!="object",i={parent:e,key:r,value:u,path:a.concat([r]),isLeaf:o,set:p=>Gt(e,r,p)},d=n(i);if(d==="abort")return d;if(d==="skip")continue;if(!o){const p=je(u,n,i.path);if(p==="abort")return p}}}function Yn(e,n){return e===n||e.size===n.size&&[...e].every(a=>n.has(a))}function Er(e,n){const a=new Map;function r(d,p){return d instanceof Date&&p instanceof Date&&d.getTime()!==p.getTime()||d instanceof Set&&p instanceof Set&&!Yn(d,p)||d instanceof File&&p instanceof File&&d!==p}function u(d){return d instanceof Date||d instanceof Set||d instanceof File}function o(d,p){const l=p?Ae(p,d.path):void 0;function h(){return a.set(d.path.join(" "),d.path),"skip"}if(u(d.value)&&(!u(l==null?void 0:l.value)||r(d.value,l.value)))return h();d.isLeaf&&(!l||d.value!==l.value)&&h()}je(e,d=>o(d,n)),je(n,d=>o(d,e));const i=Array.from(a.values());return i.sort((d,p)=>d.length-p.length),i}function Te(e,n,a){const r=typeof a=="function";for(const u of n){const o=Ae(e,u,({parent:i,key:d,value:p})=>((p===void 0||typeof p!="object")&&(i[d]={}),i[d]));o&&(o.parent[o.key]=r?a(u,o):a)}}function dt(e){return e.toString().split(/[[\].]+/).filter(n=>n)}function ft(e){return e.reduce((n,a)=>{const r=String(a);return typeof a=="number"||/^\d+$/.test(r)?n+=`[${r}]`:n?n+=`.${r}`:n+=r,n},"")}function pt(e){const n={}.toString.call(e).slice(8,-1);if(n=="Set")return new Set([...e].map(a=>pt(a)));if(n=="Map")return new Map([...e].map(a=>[pt(a[0]),pt(a[1])]));if(n=="Date")return new Date(e.getTime());if(n=="RegExp")return RegExp(e.source,e.flags);if(n=="Array"||n=="Object"){const a=n=="Object"?Object.create(Object.getPrototypeOf(e)):[];for(const r in e)a[r]=pt(e[r]);return a}return e}function ue(e){return e&&typeof e=="object"?pt(e):e}class te extends Error{constructor(n){super(n),Object.setPrototypeOf(this,te.prototype)}}function Jn(e,n){var u;const a={};function r(o){if("_errors"in a||(a._errors=[]),!Array.isArray(a._errors))if(typeof a._errors=="string")a._errors=[a._errors];else throw new te("Form-level error was not an array.");a._errors.push(o.message)}for(const o of e){if(!o.path||o.path.length==1&&!o.path[0]){r(o);continue}const d=!/^\d$/.test(String(o.path[o.path.length-1]))&&((u=Ve(n,o.path.filter(b=>/\D/.test(String(b)))))==null?void 0:u.value),p=Ae(a,o.path,({value:b,parent:C,key:A})=>(b===void 0&&(C[A]={}),C[A]));if(!p){r(o);continue}const{parent:l,key:h}=p;d?(h in l||(l[h]={}),"_errors"in l[h]?l[h]._errors.push(o.message):l[h]._errors=[o.message]):h in l?l[h].push(o.message):l[h]=[o.message]}return a}function Sr(e,n,a){return a?e:(je(n,r=>{Array.isArray(r.value)&&r.set(void 0)}),je(e,r=>{!Array.isArray(r.value)&&r.value!==void 0||Te(n,[r.path],r.value)}),n)}function Wn(e){return Rr(e,[])}function Rr(e,n){return Object.entries(e).filter(([,r])=>r!==void 0).flatMap(([r,u])=>{if(Array.isArray(u)&&u.length>0){const o=n.concat([r]);return{path:ft(o),messages:u}}else return Rr(e[r],n.concat([r]))})}function Tr(e){e.flashMessage&&Zt(e)&&(document.cookie=`flash=; Max-Age=0; Path=${e.flashMessage.cookiePath??"/"};`)}function Zt(e){return e.flashMessage?e.syncFlashMessage:!1}function Xt(e){const n=JSON.parse(e);return n.data&&(n.data=yn(n.data,hn.decoders)),n}function Yt(e){return HTMLElement.prototype.cloneNode.call(e)}function Gn(e,n=()=>{}){const a=async({action:u,result:o,reset:i=!0,invalidateAll:d=!0})=>{o.type==="success"&&(i&&HTMLFormElement.prototype.reset.call(e),d&&await Pr()),(location.origin+location.pathname===u.origin+u.pathname||o.type==="redirect"||o.type==="error")&&await At(o)};async function r(u){var B,y,T,W,pe;if(((B=u.submitter)!=null&&B.hasAttribute("formmethod")?u.submitter.formMethod:Yt(e).method)!=="post")return;u.preventDefault();const i=new URL((y=u.submitter)!=null&&y.hasAttribute("formaction")?u.submitter.formAction:Yt(e).action),d=(T=u.submitter)!=null&&T.hasAttribute("formenctype")?u.submitter.formEnctype:Yt(e).enctype,p=new FormData(e),l=(W=u.submitter)==null?void 0:W.getAttribute("name");l&&p.append(l,((pe=u.submitter)==null?void 0:pe.getAttribute("value"))??"");const h=new AbortController;let b=!1;const A=await n({action:i,cancel:()=>b=!0,controller:h,formData:p,formElement:e,submitter:u.submitter})??a;if(b)return;let O;try{const F=new Headers({accept:"application/json","x-sveltekit-action":"true"});d!=="multipart/form-data"&&F.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(d)?d:"application/x-www-form-urlencoded");const ge=d==="multipart/form-data"?p:new URLSearchParams(p),ce=await fetch(i,{method:"POST",headers:F,cache:"no-store",body:ge,signal:h.signal});O=Xt(await ce.text()),O.type==="error"&&(O.status=ce.status)}catch(F){if((F==null?void 0:F.name)==="AbortError")return;O={type:"error",error:F}}await A({action:i,formData:p,formElement:e,update:F=>a({action:i,result:O,reset:F==null?void 0:F.reset,invalidateAll:F==null?void 0:F.invalidateAll}),result:O})}return HTMLFormElement.prototype.addEventListener.call(e,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(e,"submit",r)}}}const Lr="noCustomValidity";async function Ar(e,n){"setCustomValidity"in e&&e.setCustomValidity(""),!(Lr in e.dataset)&&Vr(e,n)}function Zn(e,n){for(const a of e.querySelectorAll("input,select,textarea,button")){if("dataset"in a&&Lr in a.dataset||!a.name)continue;const r=Ae(n,dt(a.name)),u=r&&typeof r.value=="object"&&"_errors"in r.value?r.value._errors:r==null?void 0:r.value;if(Vr(a,u),u)return}}function Vr(e,n){if(!("setCustomValidity"in e))return;const a=n&&n.length?n.join(`
`):"";e.setCustomValidity(a),a&&e.reportValidity()}const Xn=(e,n=0)=>{const a=e.getBoundingClientRect();return a.top>=n&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)},Kn=(e,n=1.125,a="smooth")=>{const o=e.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*n);window.scrollTo({left:0,top:o,behavior:a})},Qn=["checkbox","radio","range","file"];function kr(e){const n=!!e&&(e instanceof HTMLSelectElement||e instanceof HTMLInputElement&&Qn.includes(e.type)),a=!!e&&e instanceof HTMLSelectElement&&e.multiple,r=!!e&&e instanceof HTMLInputElement&&e.type=="file";return{immediate:n,multiple:a,file:r}}var ne;(function(e){e[e.Idle=0]="Idle",e[e.Submitting=1]="Submitting",e[e.Delayed=2]="Delayed",e[e.Timeout=3]="Timeout"})(ne||(ne={}));const es=new Set;function ts(e,n,a){let r=ne.Idle,u,o;const i=es;function d(){p(),h(r!=ne.Delayed?ne.Submitting:ne.Delayed),u=window.setTimeout(()=>{u&&r==ne.Submitting&&h(ne.Delayed)},a.delayMs),o=window.setTimeout(()=>{o&&r==ne.Delayed&&h(ne.Timeout)},a.timeoutMs),i.add(p)}function p(){clearTimeout(u),clearTimeout(o),u=o=0,i.delete(p),h(ne.Idle)}function l(){i.forEach(y=>y()),i.clear()}function h(y){r=y,n.submitting.set(r>=ne.Submitting),n.delayed.set(r>=ne.Delayed),n.timeout.set(r>=ne.Timeout)}const b=e;function C(y){const T=y.target;a.selectErrorText&&T.select()}function A(){a.selectErrorText&&b.querySelectorAll("input").forEach(y=>{y.addEventListener("invalid",C)})}function O(){a.selectErrorText&&b.querySelectorAll("input").forEach(y=>y.removeEventListener("invalid",C))}const B=e;{A();const y=T=>{T.clearAll?l():p(),T.cancelled||setTimeout(()=>Kt(B,a),1)};return kt(()=>{O(),y({cancelled:!0})}),{submitting(){d()},completed:y,scrollToFirstError(){setTimeout(()=>Kt(B,a),1)},isSubmitting:()=>r===ne.Submitting||r===ne.Delayed}}}const Kt=async(e,n)=>{if(n.scrollToError=="off")return;const a=n.errorSelector;if(!a)return;await Wt();let r;if(r=e.querySelector(a),!r)return;r=r.querySelector(a)??r;const u=n.stickyNavbar?document.querySelector(n.stickyNavbar):null;typeof n.scrollToError!="string"?r.scrollIntoView(n.scrollToError):Xn(r,(u==null?void 0:u.offsetHeight)??0)||Kn(r,void 0,n.scrollToError);function o(d){return typeof n.autoFocusOnError=="boolean"?n.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(d)}if(!o(navigator.userAgent))return;let i;if(i=r,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(i.tagName)||(i=i.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),i)try{i.focus({preventScroll:!0}),n.selectErrorText&&i.tagName=="INPUT"&&i.select()}catch{}};function Mt(e,n,a){const r=Ae(e,n,({parent:u,key:o,value:i})=>(i===void 0&&(u[o]=/\D/.test(o)?{}:[]),u[o]));if(r){const u=a(r.value);r.parent[r.key]=u}return e}function rs(e,n,a){const r=e.form,u=dt(n),o=er(r,i=>{const d=Ae(i,u);return d==null?void 0:d.value});return{subscribe(...i){const d=o.subscribe(...i);return()=>d()},update(i,d){r.update(p=>Mt(p,u,i),d??a)},set(i,d){r.update(p=>Mt(p,u,()=>i),d??a)}}}function ns(e,n){const a="form"in e;if(!a&&(n==null?void 0:n.taint)!==void 0)throw new te("If options.taint is set, the whole superForm object must be used as a proxy.");return a}function Et(e,n,a){const r=dt(n);if(ns(e,a))return rs(e,n,a);const u=er(e,o=>{const i=Ae(o,r);return i==null?void 0:i.value});return{subscribe(...o){const i=u.subscribe(...o);return()=>i()},update(o){e.update(i=>Mt(i,r,o))},set(o){e.update(i=>Mt(i,r,()=>o))}}}function Qt(e){let n={};const a=Array.isArray(e);for(const[r,u]of Object.entries(e))!u||typeof u!="object"||(a?n={...n,...Qt(u)}:n[r]=Qt(u));return n}const St=new WeakMap,nt=new WeakMap,$r=e=>{throw e.result.error},ss={applyAction:!0,invalidateAll:!0,resetForm:!0,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:!1,onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:$r,dataType:"form",validators:void 0,customValidity:!1,clearOnSubmit:"message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",SPA:void 0,validationMethod:"auto"};function as(e){return`Duplicate form id's found: "${e}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set the warnings.duplicateId option to false in superForm to disable this warning. More information: https://superforms.rocks/concepts/multiple-forms`}let Hr=!1;try{SUPERFORMS_LEGACY&&(Hr=!0)}catch{}let ot=!1;try{globalThis.STORIES&&(ot=!0)}catch{}function os(e,n){var rr;let a,r={},u;{if((r.legacy??Hr)&&(r.resetForm===void 0&&(r.resetForm=!1),r.taintedMessage===void 0&&(r.taintedMessage=!0)),ot&&r.applyAction===void 0&&(r.applyAction=!1),typeof r.SPA=="string"&&(r.invalidateAll===void 0&&(r.invalidateAll=!1),r.applyAction===void 0&&(r.applyAction=!1)),u=r.validators,r={...ss,...r},(r.SPA===!0||typeof r.SPA=="object")&&r.validators===void 0&&console.warn("No validators set for superForm in SPA mode. Add a validation adapter to the validators option, or set it to false to disable this warning."),!e)throw new te("No form data sent to superForm. Make sure the output from superValidate is used (usually data.form) and that it's not null or undefined. Alternatively, an object with default values for the form can also be used, but then constraints won't be available.");l(e)===!1&&(e={id:r.id??Math.random().toString(36).slice(2,10),valid:!1,posted:!1,errors:{},data:e,shape:Qt(e)}),e=e;const t=e.id=r.id??e.id,s=st(at)??(ot?{}:void 0);if(((rr=r.warnings)==null?void 0:rr.duplicateId)!==!1)if(!St.has(s))St.set(s,new Set([t]));else{const c=St.get(s);c!=null&&c.has(t)?console.warn(as(t)):c==null||c.add(t)}if(nt.has(e)||nt.set(e,e),a=nt.get(e),e=ue(a),kt(()=>{var c;Ee(),m(),Fe();for(const f of Object.values(z))f.length=0;(c=St.get(s))==null||c.delete(t)}),r.dataType!=="json"){const c=(f,g)=>{if(!(!g||typeof g!="object")){if(Array.isArray(g))g.length>0&&c(f,g[0]);else if(!(g instanceof Date)&&!(g instanceof File)&&!(g instanceof FileList))throw new te(`Object found in form field "${f}". Set the dataType option to "json" and add use:enhance to use nested data structures. More information: https://superforms.rocks/concepts/nested-data`)}};for(const[f,g]of Object.entries(e.data))c(f,g)}}const o={formId:e.id,form:ue(e.data),constraints:e.constraints??{},posted:e.posted,errors:ue(e.errors),message:ue(e.message),tainted:void 0,valid:e.valid,submitting:!1,shape:e.shape},i=o,d=ye(r.id??e.id);function p(t){return Object.values(t).filter(c=>l(c)!==!1)}function l(t){return!t||typeof t!="object"||!("valid"in t&&"errors"in t&&typeof t.valid=="boolean")?!1:"id"in t&&typeof t.id=="string"?t.id:!1}const h=ye(e.data),b={subscribe:h.subscribe,set:(t,s={})=>{const c=ue(t);return ve(c,s.taint??!0),h.set(c)},update:(t,s={})=>h.update(c=>{const f=t(c);return ve(f,s.taint??!0),f})};function C(){return r.SPA===!0||typeof r.SPA=="object"}function A(t){var s;return t>400?t:(typeof r.SPA=="boolean"||typeof r.SPA=="string"||(s=r.SPA)==null?void 0:s.failStatus)||t}async function O(t={}){const s=t.formData??i.form;let c={},f;const g=t.adapter??r.validators;if(typeof g=="object"){if(g!=u&&!("jsonSchema"in g))throw new te('Client validation adapter found in options.validators. A full adapter must be used when changing validators dynamically, for example "zod" instead of "zodClient".');if(f=await g.validate(s),!f.success)c=Jn(f.issues,g.shape??i.shape??{});else if(t.recheckValidData!==!1)return O({...t,recheckValidData:!1})}else f={success:!0,data:{}};const E={...i.form,...s,...f.success?f.data:{}};return{valid:f.success,posted:!1,errors:c,data:E,constraints:i.constraints,message:void 0,id:i.formId,shape:i.shape}}function B(t){if(!r.onChange||!t.paths.length||t.type=="blur")return;let s;const c=t.paths.map(ft);t.type&&t.paths.length==1&&t.formElement&&t.target instanceof Element?s={path:c[0],paths:c,formElement:t.formElement,target:t.target,set(f,g,E){Et({form:b},f,E).set(g)},get(f){return st(Et(b,f))}}:s={paths:c,target:void 0,set(f,g,E){Et({form:b},f,E).set(g)},get(f){return st(Et(b,f))}},r.onChange(s)}async function y(t,s=!1,c){t&&(r.validators=="clear"&&K.update(E=>(Te(E,t.paths,void 0),E)),setTimeout(()=>B(t)));let f=!1;if(s||(r.validationMethod=="onsubmit"||r.validationMethod=="submit-only"||r.validationMethod=="onblur"&&(t==null?void 0:t.type)=="input"||r.validationMethod=="oninput"&&(t==null?void 0:t.type)=="blur")&&(f=!0),f||!t||!r.validators||r.validators=="clear"){if(t!=null&&t.paths){const E=(t==null?void 0:t.formElement)??Ie();E&&T(E)}return}const g=await O({adapter:c});return g.valid&&(t.immediate||t.type!="input")&&b.set(g.data,{taint:"ignore"}),await Wt(),W(g.errors,t,s),g}function T(t){const s=new Map;if(r.customValidity&&t)for(const c of t.querySelectorAll("[name]")){if(typeof c.name!="string"||!c.name.length)continue;const f="validationMessage"in c?String(c.validationMessage):"";s.set(c.name,{el:c,message:f}),Ar(c,void 0)}return s}async function W(t,s,c){const{type:f,immediate:g,multiple:E,paths:oe}=s,Re=i.errors,ze={};let ee=new Map;const G=s.formElement??Ie();G&&(ee=T(G)),je(t,U=>{if(!Array.isArray(U.value))return;const Z=[...U.path];Z[Z.length-1]=="_errors"&&Z.pop();const rt=Z.join(".");function ie(){if(Te(ze,[U.path],U.value),r.customValidity&&Ye&&ee.has(rt)){const{el:se,message:Je}=ee.get(rt);Je!=U.value&&(setTimeout(()=>Ar(se,U.value)),ee.clear())}}if(c)return ie();const mt=U.path[U.path.length-1]=="_errors",Ye=U.value&&oe.some(se=>mt?Z&&se&&Z.length>0&&Z[0]==se[0]:rt==se.join("."));if(Ye&&r.validationMethod=="oninput"||g&&!E&&Ye)return ie();if(E){const se=Ve(st(K),U.path.slice(0,-1));if(se!=null&&se.value&&typeof(se==null?void 0:se.value)=="object"){for(const Je of Object.values(se.value))if(Array.isArray(Je))return ie()}}const Oe=Ve(Re,U.path);if(Oe&&Oe.key in Oe.parent)return ie();if(mt){if(r.validationMethod=="oninput"||f=="blur"&&qe(ft(U.path.slice(0,-1))))return ie()}else if(f=="blur"&&Ye)return ie()}),K.set(ze)}function pe(t,s={}){return s.keepFiles&&je(i.form,c=>{if(!(c.parent instanceof FileList)&&(c.value instanceof File||c.value instanceof FileList)){const f=Ve(t,c.path);(!f||!(f.key in f.parent))&&Te(t,[c.path],c.value)}}),b.set(t,s)}function F(t,s){return t&&s&&r.resetForm&&(r.resetForm===!0||r.resetForm())}function ge(t=!0){let s=i.form,c=i.tainted;if(t){const f=Ur(i.form);s=f.data;const g=f.paths;g.length&&(c=ue(c)??{},Te(c,g,!1))}return{valid:i.valid,posted:i.posted,errors:i.errors,data:s,constraints:i.constraints,message:i.message,id:i.formId,tainted:c,shape:i.shape}}async function ce(t,s){t.valid&&s&&F(t.valid,s)?Ue({message:t.message,posted:!0}):me({form:t,untaint:s,keepFiles:!0,skipFormData:r.invalidateAll=="force"}),z.onUpdated.length&&await Wt();for(const c of z.onUpdated)c({form:t})}function Ue(t={}){t.newState&&(a.data={...a.data,...t.newState});const s=ue(a);s.data={...s.data,...t.data},t.id!==void 0&&(s.id=t.id),me({form:s,untaint:!0,message:t.message,keepFiles:!1,posted:t.posted,resetted:!0})}async function Xe(t){if(t.type=="error")throw new te(`ActionResult of type "${t.type}" cannot be passed to update function.`);if(t.type=="redirect"){F(!0,!0)&&Ue({posted:!0});return}if(typeof t.data!="object")throw new te("Non-object validation data returned from ActionResult.");const s=p(t.data);if(!s.length)throw new te("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const c of s)c.id===i.formId&&await ce(c,t.status>=200&&t.status<300)}const ae=ye(o.message),he=ye(o.constraints),ke=ye(o.posted),Be=ye(o.shape),De=ye(e.errors),K={subscribe:De.subscribe,set(t,s){return De.set(Sr(t,i.errors,s==null?void 0:s.force))},update(t,s){return De.update(c=>Sr(t(c),i.errors,s==null?void 0:s.force))},clear:()=>K.set({})};let V=null;function Ke(t){var s;V&&t&&Object.keys(t).length==1&&((s=t.paths)!=null&&s.length)&&V.target&&V.target instanceof HTMLInputElement&&V.target.type.toLowerCase()=="file"?V.paths=t.paths:V=t,setTimeout(()=>{y(V)},0)}function w(t,s,c,f,g){V===null&&(V={paths:[]}),V.type=t,V.immediate=s,V.multiple=c,V.formElement=f,V.target=g}function k(){return(V==null?void 0:V.paths)??[]}function m(){V=null}const v={defaultMessage:"Leave page? Changes that you made may not be saved.",state:ye(),message:r.taintedMessage,clean:ue(e.data),forceRedirection:!1};function x(){return r.taintedMessage&&!i.submitting&&!v.forceRedirection&&xe()}function N(t){if(!x())return;t.preventDefault(),t.returnValue="";const{taintedMessage:s}=r,f=typeof s=="function"||s===!0?v.defaultMessage:s;return(t||window.event).returnValue=f||v.defaultMessage,f}async function D(t){if(!x())return;const{taintedMessage:s}=r,c=typeof s=="function";if(c&&t.cancel(),t.type==="leave")return;const f=c||s===!0?v.defaultMessage:s;let g;try{g=c?await s():window.confirm(f||v.defaultMessage)}catch{g=!1}if(g&&t.to)try{v.forceRedirection=!0,await wn(t.to.url,{...t.to.params});return}finally{v.forceRedirection=!1}else!g&&!c&&t.cancel()}function _e(){r.taintedMessage=v.message}function Pe(){return v.state}function qe(t){if(!i.tainted)return!1;if(!t)return!!i.tainted;const s=Ve(i.tainted,dt(t));return!!s&&s.key in s.parent}function xe(t){if(!arguments.length)return Ce(i.tainted);if(typeof t=="boolean")return t;if(typeof t=="object")return Ce(t);if(!i.tainted||t===void 0)return!1;const s=Ve(i.tainted,dt(t));return Ce(s==null?void 0:s.value)}function Ce(t){if(!t)return!1;if(typeof t=="object"){for(const s of Object.values(t))if(Ce(s))return!0}return t===!0}function ve(t,s){if(s=="ignore")return;const c=Er(t,i.form),f=Er(t,v.clean).map(g=>g.join());c.length&&(s=="untaint-all"||s=="untaint-form"?v.state.set(void 0):v.state.update(g=>(g||(g={}),Te(g,c,(E,oe)=>{if(!f.includes(E.join()))return;const Re=Ae(t,E),ze=Ae(v.clean,E);return Re&&ze&&Re.value===ze.value?void 0:s===!0?!0:s==="untaint"?void 0:oe.value}),g)),Ke({paths:c}))}function Qe(t,s){v.state.set(t),s&&(v.clean=s)}const we=ye(!1),et=ye(!1),Me=ye(!1),L=[v.state.subscribe(t=>o.tainted=ue(t)),b.subscribe(t=>o.form=ue(t)),K.subscribe(t=>o.errors=ue(t)),d.subscribe(t=>o.formId=t),he.subscribe(t=>o.constraints=t),ke.subscribe(t=>o.posted=t),ae.subscribe(t=>o.message=t),we.subscribe(t=>o.submitting=t),Be.subscribe(t=>o.shape=t)];function R(t){L.push(t)}function Ee(){L.forEach(t=>t())}let q;function Ie(){return q}function Se(t){q=document.createElement("form"),q.method="POST",q.action=t,tt(q),document.body.appendChild(q)}function Q(t){q&&(q.action=t)}function Fe(){q!=null&&q.parentElement&&q.remove(),q=void 0}const de=er(K,t=>t?Wn(t):[]);r.taintedMessage=void 0;function me(t){const s=t.form,c=t.message??s.message;if((t.untaint||t.resetted)&&Qe(typeof t.untaint=="boolean"?void 0:t.untaint,s.data),t.skipFormData!==!0&&pe(s.data,{taint:"ignore",keepFiles:t.keepFiles}),ae.set(c),t.resetted?K.update(()=>({}),{force:!0}):K.set(s.errors),d.set(s.id),ke.set(t.posted??s.posted),s.constraints&&he.set(s.constraints),s.shape&&Be.set(s.shape),o.valid=s.valid,r.flashMessage&&Zt(r)){const f=r.flashMessage.module.getFlash(at);c&&st(f)===void 0&&f.set(c)}}const z={onSubmit:r.onSubmit?[r.onSubmit]:[],onResult:r.onResult?[r.onResult]:[],onUpdate:r.onUpdate?[r.onUpdate]:[],onUpdated:r.onUpdated?[r.onUpdated]:[],onError:r.onError?[r.onError]:[]};window.addEventListener("beforeunload",N),kt(()=>{window.removeEventListener("beforeunload",N)}),_n(D),R(at.subscribe(async t=>{ot&&t===void 0&&(t={status:200});const s=t.status>=200&&t.status<300;if(r.applyAction&&t.form&&typeof t.form=="object"){const c=t.form;if(c.type==="error")return;for(const f of p(c)){const g=nt.has(f);f.id!==i.formId||g||(nt.set(f,f),await ce(f,s))}}else if(t.data&&typeof t.data=="object")for(const c of p(t.data)){const f=nt.has(c);if(c.id!==i.formId||f)continue;r.invalidateAll==="force"&&(a.data=c.data);const g=F(c.valid,!0);me({form:c,untaint:s,keepFiles:!g,resetted:g})}})),typeof r.SPA=="string"&&Se(r.SPA);function tt(t,s){if(r.SPA!==void 0&&t.method=="get"&&(t.method="post"),typeof r.SPA=="string"?r.SPA.length&&t.action==document.location.href&&(t.action=r.SPA):q=t,s){if(s.onError){if(r.onError==="apply")throw new te('options.onError is set to "apply", cannot add any onError events.');if(s.onError==="apply")throw new te('Cannot add "apply" as onError event in use:enhance.');z.onError.push(s.onError)}s.onResult&&z.onResult.push(s.onResult),s.onSubmit&&z.onSubmit.push(s.onSubmit),s.onUpdate&&z.onUpdate.push(s.onUpdate),s.onUpdated&&z.onUpdated.push(s.onUpdated)}_e();let c;async function f(ee){const G=kr(ee.target);G.immediate&&!G.file&&await new Promise(U=>setTimeout(U,0)),c=k(),w("input",G.immediate,G.multiple,t,ee.target??void 0)}async function g(ee){if(i.submitting||!c||k()!=c)return;const G=kr(ee.target);G.immediate&&!G.file&&await new Promise(U=>setTimeout(U,0)),y({paths:c,immediate:G.multiple,multiple:G.multiple,type:"blur",formElement:t,target:ee.target??void 0}),c=void 0}t.addEventListener("focusout",g),t.addEventListener("input",f),kt(()=>{t.removeEventListener("focusout",g),t.removeEventListener("input",f)});const E=ts(t,{submitting:we,delayed:et,timeout:Me},r);let oe,Re;const ze=Gn(t,async ee=>{let G,U=r.validators;const Z={...ee,jsonData(S){if(r.dataType!=="json")throw new te("options.dataType must be set to 'json' to use jsonData.");G=S},validators(S){U=S},customRequest(S){Re=S}},rt=Z.cancel;let ie=!1;function It(S){const _={...S,posted:!0},M=_.valid?200:A(400),X={form:_},Y=_.valid?{type:"success",status:M,data:X}:{type:"failure",status:M,data:X};setTimeout(()=>Je({result:Y}),0)}function mt(){switch(r.clearOnSubmit){case"errors-and-message":K.clear(),ae.set(void 0);break;case"errors":K.clear();break;case"message":ae.set(void 0);break}}async function Ye(S,_){var M;if(S.status=_,r.onError!=="apply"){const X={result:S,message:ae,form:e};for(const Y of z.onError)Y!=="apply"&&(Y!=$r||!((M=r.flashMessage)!=null&&M.onError))&&await Y(X)}r.flashMessage&&r.flashMessage.onError&&await r.flashMessage.onError({result:S,flashMessage:r.flashMessage.module.getFlash(at)}),r.applyAction&&(r.onError=="apply"?await At(S):await At({type:"failure",status:A(S.status),data:S}))}function Oe(S={resetTimers:!0}){return ie=!0,S.resetTimers&&E.isSubmitting()&&E.completed({cancelled:ie}),rt()}if(Z.cancel=Oe,E.isSubmitting()&&r.multipleSubmits=="prevent")Oe({resetTimers:!1});else{E.isSubmitting()&&r.multipleSubmits=="abort"&&oe&&oe.abort(),E.submitting(),oe=Z.controller;for(const S of z.onSubmit)try{await S(Z)}catch(_){Oe(),Ye({type:"error",error:_},500)}}if(ie&&r.flashMessage&&Tr(r),!ie){const S=!C()&&(t.noValidate||(Z.submitter instanceof HTMLButtonElement||Z.submitter instanceof HTMLInputElement)&&Z.submitter.formNoValidate);let _;const M=async()=>await O({adapter:U});if(mt(),S||(_=await M(),_.valid||(Oe({resetTimers:!1}),It(_))),!ie){r.flashMessage&&(r.clearOnSubmit=="errors-and-message"||r.clearOnSubmit=="message")&&Zt(r)&&r.flashMessage.module.getFlash(at).set(void 0);const X="formData"in Z?Z.formData:Z.data;if(c=void 0,C())_||(_=await M()),Oe({resetTimers:!1}),It(_);else if(r.dataType==="json"){_||(_=await M());const Y=ue(G??_.data);je(Y,I=>{if(I.value instanceof File){const J="__superform_file_"+ft(I.path);return X.append(J,I.value),I.set(void 0)}else if(Array.isArray(I.value)&&I.value.length&&I.value.every(J=>J instanceof File)){const J="__superform_files_"+ft(I.path);for(const le of I.value)X.append(J,le);return I.set(void 0)}}),Object.keys(Y).forEach(I=>{typeof X.get(I)=="string"&&X.delete(I)});const We=r.transport?Object.fromEntries(Object.entries(r.transport).map(([I,J])=>[I,J.encode])):void 0,bt=se(On(Y,We),r.jsonChunkSize??5e5);for(const I of bt)X.append("__superform_json",I)}if(!X.has("__superform_id")){const Y=i.formId;Y!==void 0&&X.set("__superform_id",Y)}typeof r.SPA=="string"&&Q(r.SPA)}}function se(S,_){const M=Math.ceil(S.length/_),X=new Array(M);for(let Y=0,We=0;Y<M;++Y,We+=_)X[Y]=S.substring(We,We+_);return X}async function Je(S){let _=!1;oe=null;let M="type"in S.result&&"status"in S.result?S.result:{type:"error",status:A(parseInt(String(S.result.status))||500),error:S.result.error instanceof Error?S.result.error:S.result};const X=()=>_=!0,Y={result:M,formEl:t,formElement:t,cancel:X},We=ot||!C()?()=>{}:wr.subscribe(I=>{var J,le;!I||((J=I.from)==null?void 0:J.route.id)===((le=I.to)==null?void 0:le.route.id)||X()});function bt(I,J,le){J.result={type:"error",error:I,status:A(le)}}for(const I of z.onResult)try{await I(Y)}catch(J){bt(J,Y,Math.max(M.status??500,400))}if(M=Y.result,!_){if((M.type==="success"||M.type==="failure")&&M.data){const I=p(M.data);if(!I.length)throw new te("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const J of I){if(J.id!==i.formId)continue;const le={form:J,formEl:t,formElement:t,cancel:()=>_=!0,result:M};for(const Ft of z.onUpdate)try{await Ft(le)}catch(Br){bt(Br,le,Math.max(M.status??500,400))}M=le.result,_||(r.customValidity&&Zn(t,le.form.errors),F(le.form.valid,M.type=="success")&&le.formElement.querySelectorAll('input[type="file"]').forEach(Ft=>Ft.value=""))}}_||(M.type!=="error"?(M.type==="success"&&r.invalidateAll&&await Pr(),r.applyAction?await At(M):await Xe(M)):await Ye(M,Math.max(M.status??500,400)))}if(_&&r.flashMessage&&Tr(r),_||M.type!="redirect")E.completed({cancelled:_});else if(ot)E.completed({cancelled:_,clearAll:!0});else{const I=wr.subscribe(J=>{J||(setTimeout(()=>{try{I&&I()}catch{}}),E.isSubmitting()&&E.completed({cancelled:_,clearAll:!0}))})}We()}if(!ie&&Re){rt();const S=await Re(ee);let _;S instanceof Response?_=Xt(await S.text()):S instanceof XMLHttpRequest?_=Xt(S.responseText):_=S,_.type==="error"&&(_.status=S.status),Je({result:_})}return Je});return{destroy:()=>{for(const[ee,G]of Object.entries(z))z[ee]=G.filter(U=>U===r[ee]);ze.destroy()}}}function Ur(t){const s=[];if(je(t,f=>{if(f.value instanceof File)return s.push(f.path),"skip";if(Array.isArray(f.value)&&f.value.length&&f.value.every(g=>g instanceof File))return s.push(f.path),"skip"}),!s.length)return{data:t,paths:s};const c=ue(t);return Te(c,s,f=>{var g;return(g=Ve(a.data,f))==null?void 0:g.value}),{data:c,paths:s}}return{form:b,formId:d,errors:K,message:ae,constraints:he,tainted:Pe(),submitting:Rt(we),delayed:Rt(et),timeout:Rt(Me),options:r,capture:ge,restore:t=>{me({form:t,untaint:t.tainted??!0})},async validate(t,s={}){if(!r.validators)throw new te("options.validators must be set to use the validate method.");s.update===void 0&&(s.update=!0),s.taint===void 0&&(s.taint=!1),typeof s.errors=="string"&&(s.errors=[s.errors]);let c;const f=dt(t);"value"in s?s.update===!0||s.update==="value"?(b.update(oe=>(Te(oe,[f],s.value),oe),{taint:s.taint}),c=i.form):(c=ue(i.form),Te(c,[f],s.value)):c=i.form;const g=await O({formData:c}),E=Ve(g.errors,f);return E&&E.value&&s.errors&&(E.value=s.errors),(s.update===!0||s.update=="errors")&&K.update(oe=>(Te(oe,[f],E==null?void 0:E.value),oe)),E==null?void 0:E.value},async validateForm(t={}){if(!r.validators&&!t.schema)throw new te("options.validators or the schema option must be set to use the validateForm method.");const s=t.update?await y({paths:[]},!0,t.schema):O({adapter:t.schema}),c=Ie();return t.update&&c&&setTimeout(()=>{c&&Kt(c,{...r,scrollToError:t.focusOnError===!1?"off":r.scrollToError})},1),s||O({adapter:t.schema})},allErrors:de,posted:ke,reset(t){return Ue({message:t!=null&&t.keepMessage?i.message:void 0,data:t==null?void 0:t.data,id:t==null?void 0:t.id,newState:t==null?void 0:t.newState})},submit(t){const s=Ie()?Ie():t&&t instanceof HTMLElement?t.closest("form"):void 0;if(!s)throw new te("use:enhance must be added to the form to use submit, or pass a HTMLElement inside the form (or the form itself) as an argument.");if(!s.requestSubmit)return s.submit();const c=t&&(t instanceof HTMLButtonElement&&t.type=="submit"||t instanceof HTMLInputElement&&["submit","image"].includes(t.type));s.requestSubmit(c?t:void 0)},isTainted:xe,enhance:tt}}new TextEncoder;let is=!1;try{SUPERFORMS_LEGACY&&(is=!0)}catch{}var us=fe('<div class="text-blue-400">Toggle finished</div>'),cs=fe('<div class="grid grid-cols-8 gap-2"><form method="POST" action="?/toggle"><input name="id" aria-label="finished" class="hidden"> <div> </div> <!></form> <div class="col-span-3"> </div> <div class="col-span-2"> </div> <form method="POST" action="?/remove"><div><input name="id" class="hidden"> <!></div></form></div>'),ds=fe('<span class="invalid"> </span>'),ls=fe('<span class="invalid"> </span>'),fs=fe("<h3> </h3>"),ps=fe('<div class="bg-sky-100 h-full w-full"><h1 class="font-bold text-3xl my-3 text-center">To do lists</h1> <ul class="flex flex-col gap-2 my-2"></ul> <div class="grid grid-cols-4 gap-1 "><form method="POST" action="?/add"><div class="mx-1 col-span-2"><label for="todo">New To-do</label></div> <div class="mx-1"><label for="time">Time</label></div> <div class="col-start-1 col-span-2"><input> <!></div> <div><input> <!></div> <div><!></div></form></div> <!> <div class="mx-35 my-3"><!></div></div> <!>',1);function Ms(e,n){Fr(n,!0);const[a,r]=Nr(),u=()=>ut(l,"$form",a),o=()=>ut(h,"$errors",a),i=()=>ut(b,"$constraints",a),d=()=>ut(C,"$message",a);let p=cn(n.data.todos);const{form:l,errors:h,constraints:b,message:C,enhance:A}=os(n.data.form);function O(x){}var B=ps(),y=Ge(B),T=$(P(y),2);sn(T,21,()=>p,an,(x,N,D)=>{var _e=cs(),Pe=P(_e),qe=P(Pe);ht(qe);var xe=$(qe,2),Ce=P(xe,!0);j(xe);var ve=$(xe,2);const Qe=lr(()=>D.toString());_t(ve,{get id(){return re(Qe)},class:"border border-blue-400 bg-white p-1",children:(Q,Fe)=>{var de=us();H(Q,de)}}),j(Pe),Ht(Pe,Q=>A==null?void 0:A(Q));var we=$(Pe,2),et=P(we,!0);j(we);var Me=$(we,2),L=P(Me,!0);j(Me);var R=$(Me,2),Ee=P(R),q=P(Ee);ht(q);var Ie=$(q,2);const Se=lr(()=>"delete"+D.toString());_t(Ie,{get id(){return re(Se)},class:"col-span-2 hover:bg-sky-900 bg-sky-700 p-1 m-1 justify-self-center text-sm",onclick:()=>(re(N).id,void 0),children:(Q,Fe)=>{Ct();var de=Ot("Delete");H(Q,de)}}),j(Ee),j(R),Ht(R,Q=>A==null?void 0:A(Q)),j(_e),He((Q,Fe,de)=>{pr(qe,re(N).id),Tt(xe,"id",Q),$e(Ce,re(N).finished),Tt(we,"id",Fe),$e(et,re(N).todo),Tt(Me,"id",de),$e(L,re(N).time),pr(q,re(N).id)},[()=>(D+200).toString(),()=>"todo_box"+D.toString(),()=>"time_box"+D.toString()]),H(x,_e)}),j(T);var W=$(T,2),pe=P(W),F=$(P(pe),4),ge=P(F);ht(ge);let ce;var Ue=$(ge,2);{var Xe=x=>{var N=ds(),D=P(N,!0);j(N),He(()=>$e(D,o().todo)),H(x,N)};Ne(Ue,x=>{o().todo&&x(Xe)})}j(F);var ae=$(F,2),he=P(ae);ht(he);let ke;var Be=$(he,2);{var De=x=>{var N=ls(),D=P(N,!0);j(N),He(()=>$e(D,o().time)),H(x,N)};Ne(Be,x=>{o().time&&x(De)})}j(ae);var K=$(ae,2),V=P(K);_t(V,{id:"add",class:"mx-1 p-1 flex self-center text-sm",children:(x,N)=>{Ct();var D=Ot("Add");H(x,D)}}),j(K),j(pe),Ht(pe,x=>A==null?void 0:A(x)),j(W);var Ke=$(W,2);{var w=x=>{var N=fs(),D=P(N,!0);j(N),He(()=>$e(D,d())),H(x,N)};Ne(Ke,x=>{d()&&x(w)})}var k=$(Ke,2),m=P(k);_t(m,{class:"shadow-lg shadow-slate-200/50 bg-slate-500 font-bold p-2 px-3",href:"/",id:"Menu page",children:(x,N)=>{Ct();var D=Ot("Menu");H(x,D)}}),j(k),j(y);var v=$(y,2);qn(v,{get data(){return u()}}),He(()=>{ce=fr(ge,ce,{class:"mx-1 bg-slate-100 w-full rounded-md border border-slate-500",id:"todo",name:"todo","aria-invalid":o().todo?"true":void 0,...i().todo}),ke=fr(he,ke,{class:"mx-1 bg-slate-100 w-full rounded-md border border-slate-500",id:"time",name:"time","aria-invalid":o().time?"true":void 0,...i().time})}),yr(ge,()=>u().todo,x=>br(l,it(u).todo=x,it(u))),yr(he,()=>u().time,x=>br(l,it(u).time=x,it(u))),H(e,B),Or(),r()}export{Ms as component};
